"use strict";

var _should = _interopRequireDefault(require("should"));

var _TokenFetcher = _interopRequireDefault(require("../auth/TokenFetcher"));

var _ClientCredentialsFlow = _interopRequireDefault(require("../auth/ClientCredentialsFlow"));

var _client_secrets = require("../../client_secrets.json");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var CLIENT_ID = _client_secrets.kkbox_sdk.client_id;
var CLIENT_SECRET = _client_secrets.kkbox_sdk.client_secret;
describe('Auth Begin to Test', function () {
  var tokenFetcher = new _TokenFetcher["default"](CLIENT_ID, CLIENT_SECRET);
  describe('clientCredentialsFlow', function () {
    describe('#fetchAccessToken()', function () {
      it('should get access token', function () {
        var clientCredentialsFlow = new _ClientCredentialsFlow["default"](tokenFetcher);
        return clientCredentialsFlow.fetchAccessToken().then(function (response) {
          var access_token = response.data.access_token;
          access_token.should.be.ok;
        });
      });
    });
  });
});